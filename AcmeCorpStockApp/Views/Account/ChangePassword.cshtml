@model UserChangePasswordDTO;
@{ 
    ViewBag.title = "Change Password";
}

<div class="mt-5 container">
    <h3>Acme Change Password</h3>
    <p>Tired of your old password? Change it here</p>

    <form class="container mt-2" method="post">
        <div class="form-group mt-2 row">
            <label class="col col-2 ">Current Password</label>
            <input class="col col-8" id="currentPassword" type="password" asp-for="@Model.CurrentPassword" />
            <i class="fas fa-eye" id="toggleCurrentPassword" style="position:relative; right:30px; top:7px"></i>
        </div>

        <div class="form-group mt-2 row">
            <label class="col col-2">New Password</label>
            <input class="col col-8" id="newPassword" type="password" asp-for="@Model.NewPassword" />
            <i class="fas fa-eye" id="toggleNewPassword" style="position:relative; right:30px; top:7px"></i>
        </div>

        <div class="form-group mt-2 row">
            <label class="col col-2">Confirm Password</label>
            <input class="col col-8" id="confirmPassword" type="password" asp-for="@Model.ConfirmPassword" />
            <i class="fas fa-eye" id="toggleConfirmPassword" style="position:relative; right:30px; top:7px"></i>
        </div>
        
        <div class="text-danger" asp-validation-summary="All"></div>
        
        <div class="d-flex justify-content-end mr-5">
            <div class="row mr-5 ">
                <a  class="btn btn-light" asp-controller="home" asp-action="index" >Cancel</a>
                <button type="submit" class="btn btn-success mr-5" asp-controller="account" asp-action="changePassword" >Update</button>
            </div>
        </div>
    </form>
</div>

<script>
    const toggleCurrentPassword = document.getElementById("toggleCurrentPassword");
    const currentPassword = document.getElementById("currentPassword");

    toggleCurrentPassword.addEventListener("click", function () {
        const type = currentPassword.getAttribute("type") == "password" ? "text" : "password";
        currentPassword.setAttribute("type", type);
    });

    const toggleNewPassword = document.getElementById("toggleNewPassword");
    const newPassword = document.getElementById("newPassword");

    toggleNewPassword.addEventListener("click", function () {
        const type = newPassword.getAttribute("type") == "password" ? "text" : "password";
        newPassword.setAttribute("type", type);
    });

    const toggleConfirmPassword = document.getElementById("toggleConfirmPassword");
    const confirmPassword = document.getElementById("confirmPassword");

    toggleConfirmPassword.addEventListener("click", function () {
        const type = confirmPassword.getAttribute("type") == "password" ? "text" : "password";
        confirmPassword.setAttribute("type", type);
    });
</script>